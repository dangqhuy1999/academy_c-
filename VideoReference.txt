$$$
TÃNH Ká»¶ LUáº¬T
Sá»° KIÃŠN NHáºªN
LÃ’NG BIáº¾T Æ N

LÃ²ng trung thá»±c cá»§a báº¡n khÃ´ng thá»ƒ bá»‹ trá»™m.

Kiáº¿n thá»©c vÃ  ká»¹ nÄƒng cá»§a báº¡n lÃ  tÃ i sáº£n gáº¯n liá»n vá»›i báº¡n.

Sá»± bÃ¬nh yÃªn ná»™i táº¡i mÃ  báº¡n xÃ¢y dá»±ng qua thiá»n Ä‘á»‹nh hay sá»± tha thá»© khÃ´ng thá»ƒ bá»‹ ai tá»‹ch thu.
$$$

TÃ´i lÃ  Huy, má»™t láº­p trÃ¬nh viÃªn
hÃ´m nay tÃ´i sáº½ cÃ¹ng cÃ¡c báº¡n Ä‘i qua 
má»™t khÃ¡i niá»‡m khÃ¡c liÃªn quan Ä‘áº¿n láº­p trÃ¬nh 
chÃ­nh lÃ  reference(Tham chiáº¿u &) trong C++.

vá»›i quy mÃ´ nÃ y chÃºng tÃ´i sáº½ Ä‘i tá»« 

--> tham chiáº¿u cá»¥c bá»™ táº¡i hÃ m main() 
--> tham chiáº¿u á»Ÿ hÃ m phá»¥ bÃªn ngoÃ i hÃ m main()
--> tham chiáº¿u bÃªn trong class c c

NÃ o chÃºng ta cÃ¹ng báº¯t Ä‘áº§u pháº§n 1

Tham chiáº¿u táº¡i hÃ m main() 
 
int main(){ 
	int a = 10; // khá»Ÿi táº¡o má»™t biáº¿n sá»‘ nguyÃªn a =10
	int &r = a; 
	// - Sau Ä‘Ã³ khá»Ÿi táº¡o má»™t tham chiáº¿u cá»§a a tÃªn lÃ  r
	// - Tham chiáº¿u pháº£i Ä‘Æ°á»£c khá»Ÿi táº¡o ngay láº­p tá»©c
	// - Khi má»™t tham chiáº¿u Ä‘Æ°á»£c liÃªn káº¿t vá»›i 1 biáº¿n thÃ¬ 
	// 		nÃ³ sáº½ mÃ£i mÃ£i tham chiáº¿u tá»›i biáº¿n Ä‘Ã³.
	// - Váº¥n Ä‘á» vá» bá»™ nhá»›: Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng `&` Ä‘á»ƒ chá»‰ ra ráº±ng
	//		cáº£ biáº¿n gá»‘c vÃ  biáº¿n tham chiáº¿u cÃ³ cÃ¹ng 1 Ä‘á»‹a chá»‰ vÃ¹ng nhá»›
	//		Äiá»u nÃ y cá»§ng cá»‘ Ã½ tÆ°á»Ÿng chÃºng chá»‰ lÃ  má»™t.
	r= 20; 
	std::cout<<r; // r rÃµ rÃ ng lÃ  báº±ng 20
	std::cout<<a; // lÃºc nÃ y a lÃ  20

	std::cout<<&r; // r rÃµ rÃ ng lÃ  báº±ng 20
	std::cout<<&a; // lÃºc nÃ y a lÃ  20
	// output cho thay ca a va r co cung dia chi

	/*
	Váº­y, 
	CÃ³ gÃ¬ khÃ¡c biá»‡t, nhÃ¬n vÃ o thÃ¬ tháº¥y 
	- Khi r thay Ä‘á»•i a cÅ©ng thay Ä‘á»•i theo
	- VÃ  chÃºng ta cÅ©ng cÃ³ thá»ƒ gá»i r lÃ  alias(tÃªn gá»i khÃ¡c) cá»§a a.
	*/
	
	// ThÃªm ná»¯a nÃ¨,
	
	std::vector<int> vec{1,4,5,3,7};
	
	for (const int& item : vec){
		std::cout<< item<<"\n";
	}
	
	/*
	BÃ¬nh thÆ°á»ng náº¿u for(int item:vec)thÃ¬ cÅ©ng Ä‘Æ°á»£c thÃ´i
	nhÆ°ng má»—i láº§n duyá»‡t phÃ¢n tá»­ tiáº¿p theo trong vec
	thÃ¬ nÃ³ sáº½ pháº£i thao tÃ¡c copy giÃ¡ trá»‹ trong vec vÃ o item
	gÃ¢y ra thÃªm má»™t bÆ°á»›c lÃ m cháº­m Ä‘i code
	
	CÃ²n náº¿u,
	dÃ¹ng for(int& item:vec)
	thÃ¬ khi duyá»‡t tá»«ng pháº§n tá»­ vec
	nÃ³ sáº½ láº¥y tháº³ng pháº§n tá»­ trong vec Ä‘Ã³ ra luÃ´n
	khÃ´ng cáº§n pháº£i copy,
	
	á»ª,
	Tháº¿ bá»n bÃªn trÃªn giáº£i quyáº¿t gÃ¬ á»Ÿ thá»±c táº¿.
	*/
}

// 
Sau khi Ä‘i qua pháº§n má»™t 
vá»›i nhá»¯ng kiáº¿n thá»©c cÆ¡ báº£n vá» tham chiáº¿u & 
thÃ¬ chÃºng ta sáº½ Ä‘áº¿n pháº§n quan trá»ng
tá» rÃµ sá»©c máº¡nh cá»§a tham chiáº¿u nháº¥t 
trong láº­p trÃ¬nh C++.

ÄÃ³ chÃ­nh lÃ ,
`--> tham chiáº¿u Ä‘á»ƒ gá»i cÃ¡c hÃ m phá»¥ bÃªn ngoÃ i hÃ m main()`

// Äá»ƒ cho nÃ³ dá»… hiá»ƒu tá»« Ä‘áº§u thÃ¬ em nghÄ© nÃªn lÃ 
// khá»Ÿi táº¡o hÃ m vá»›i tham sá»‘ cÃ³ tham chiáº¿u 
```
Practical use(á»©ng dá»¥ng thá»±c tiá»…n)
I.

void change_a(int &a) 
	a = 30;
int main(){
	int a = 10;
	change_a(a);
	std::cout <<a<<"\n"; // a bÃ¢y giá» lÃ  30
	return 0;
}

II. The value be swaped each other:

void swap( int& c, int& d){
	int temp = c;
	c = d;
	d= temp;
}

int main(){
	int a =10, b = 20;
	std::cout << a << b << '\n';
	swap(a, b)
	return 0;
}

NOTICE:
when you define `void swap( int& c, int& d)`, you're telling with compiler that 
`c` and `d` is other name(alias) for the original variable.

and when you call `swap(a, b)` 
you will wonder if why dont we call `swap(&a, &b)` instead. 
okey if you have same with my thinking, you are so deeply good. 
So you imagine,
`int&c` is a parameter you define 
`a` is a variable you passing 

let's imagine this case: `int&c = a;`
in the fact that , call function is other shape of `int&c = a;`


```
BÃ¢y giá» thÃ¬ tham chiáº¿u lÃ  tham sá»‘ á»Ÿ bÃªn trong hÃ m change_a 
CÃ³ 2 váº¥n Ä‘á» chÃ­nh cá»§a pháº§n chá»‰ truyá»n tham chiáº¿u vÃ o hÃ m 
- Thá»© nháº¥t lÃ  biáº¿n bÃªn ngoÃ i sáº½ bá»‹ thay Ä‘á»•i 
 náº¿u nhÆ° bÃªn trong hÃ m thay Ä‘á»•i nÃ³ 
 okey translate to English

- The second, when we call change_a(a) at `main()` function,
you just used share memory (same address)
between int& a(in this function) and a(in main() function), 
no longer need copy value, help your program run faster.

exclude (const or pointer, just focus on reference)
The next thing of (passing by reference), 
you will go (the function return reference)
And now, function will become a (l-value of =)
follow like this:

```
int& func1(int& a){
	return a;
}

int main(){
	
	int a = 10;
	
	std::cout<< a<< "\n"; // a = 10
    
	func1(a) = 20; // and now a will change to 20
    
    std::cout<< &func1(a) << "\n"; the address of func1 is mainly address of a
	
	std::cout<< &a << "\n"; output is address of a

    std::cout<< func1(a) << "\n"; 
	
	std::cout<< a << "\n";

	return 0;
}
```

Other ability of (function return reference)
- overload operator of object orientation
- do both setter and getter at the time
We will process at topic 3 reference in class 

With all mainly points about reference 
we will focus on overload operator and setter/getter use reference at class

First, getter/setter with reference

class Box{
	private:
		int l, b, h;
	public:
		// Constructor
		// to initialize value for Box object
		Box() : l{0}, b{0}, h{0} {}
		
		//Constructor with 3 parameters
		Box(int length, int breadth, int height) : l{length}, b{breadth}, h{height} {}

		// Constructor with 3 parameters (CALL SETTER Ä‘á»ƒ to performs Validation)
		// âš ï¸ NOTICE: Not use Initialization List to assign l, b, h again.
		
		Box(int length, int breadth, int height) 
		{
			// Call setters. Setter will perform validation and assign the value 
			// or print to any errors if the value is not validation (For example: negative).
			this->setLength(length);
			this->setBreadth(breadth);
			this->setHeight(height); // Call a new Setter that is added.
		}
		
        Box(const Box& B) : l{B.l}, b{B.b}, h{B.h} {}
        Box(int length){
			this->l = setLength(length);
			this->b = 0;
			this->h = 0;
		}

		// --- 2. GETTERS (Báº¯t buá»™c pháº£i lÃ  const) ---
		int getLength() const { return l; }
		int getBreadth() const { return b; }
		int getHeight() const { return h; }
		
		//  reference  with l-value to 
		Box& setLength(int val) { 
			if(val < 0){
				this->l = val; 
			} 
			else{
				std::cerr << "Lá»—i: Chá»‰ sá»‘ truy cáº­p náº±m ngoÃ i pháº¡m vi!\n";
            	// Trong thá»±c táº¿, nÃªn nÃ©m ngoáº¡i lá»‡ (throw exception)
			}
			return *this; // Return reference value ahead to current object 
		}
		Box& setBreadth(int val) { 
			if(val >= 0){ 
				this->b = val; 
			} else {
				// ğŸ’¡ THAY THáº¾ std::cerr Báº°NG THROW EXCEPTION
				throw std::invalid_argument("Lá»—i: Chiá»u rá»™ng (" + std::to_string(val) + ") khÃ´ng Ä‘Æ°á»£c Ã¢m.");
			}
			return *this; 
		}
		Box& setHeight(int val) { 
			if(val >= 0){ 
				this->h = val; 
			} else {
				// ğŸ’¡ THAY THáº¾ std::cerr Báº°NG THROW EXCEPTION
				throw std::invalid_argument("Lá»—i: Chiá»u cao (" + std::to_string(val) + ") khÃ´ng Ä‘Æ°á»£c Ã¢m.");
			}
			return *this; 
		}

		// Getter KHÃ”NG Ä‘á»•i (const version) - Sá»­ dá»¥ng khi Ä‘á»‘i tÆ°á»£ng lÃ  const
		int getHeight() const { 
			return h; 
		}

		// Getter Äá»”I (non-const version) - Sá»­ dá»¥ng khi muá»‘n thay Ä‘á»•i giÃ¡ trá»‹
		int& getHeight() { 
			return h; 
		}

		// Overload operator
		bool operator<(const Box& b) const {
			if(this->l < b.l){
				return True;
			}
			else if(this->l == b.l && this->b < b.b){
				return True;
			}
			else if(this->l == b.l && this->b == b.b && this->h < b.h){
				return True;
			}
			return False;
		}
}

// Äá»‹nh nghÄ©a hÃ m náº¡p chá»“ng toÃ¡n tá»­ <<
// HÃ€M NÃ€Y TRáº¢ Vá»€ THAM CHIáº¾U Äáº¾N OSTREAM&
std::ostream& operator<<(std::ostream& out, const Box& b) {
    out << "Chieu dai: " 	<< b.getLength() 
        << ", Chieu rong: " << b.getBreadth() 
        << ", Chieu cao: " 	<< b.getHeight();
    
    // Quan trá»ng: Tráº£ vá» out (tham chiáº¿u Ä‘áº¿n ostream)
    return out; 
}

int main(){

	Box b{10,5,8};
	
    // Sá»­ dá»¥ng tÃ­nh nÄƒng gá»i chuá»—i (chaining) nhá» tráº£ vá» *this&
    b.setLength(20).setBreadth(10).setHeight(15);

	std::cout << b << std::endl; // Sá»­ dá»¥ng toÃ¡n tá»­ náº¡p chá»“ng

	Box b_mutable;
	b_mutable.getHeight() = 10; // Gá»i phiÃªn báº£n non-const (int&)

	const Box b_const;
	// b_const.getHeight() = 10; // Lá»—i biÃªn dá»‹ch! Chá»‰ gá»i Ä‘Æ°á»£c phiÃªn báº£n const (int), khÃ´ng gÃ¡n Ä‘Æ°á»£c.

	return 0;
}